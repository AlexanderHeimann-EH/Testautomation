<log4net > 
<!-- 
<log4net threshold="Off" > 
<log4net>
-->
<!--  -->

  <appender name="BufferingForwardingAppender" type="log4net.Appender.BufferingForwardingAppender" >
    <bufferSize value="10"/>
    <appender-ref ref="XMLFileAppender" /> 
</appender>

  <appender name="TraceAppender" type="log4net.Appender.TraceAppender" >
        <layout type="log4net.Layout.PatternLayout">
            <conversionPattern value="%-5level %message%newline" />
        </layout>
    </appender>
	
  <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
		<target value="Console.Out" />
		<layout type="log4net.Layout.PatternLayout">
			<conversionPattern value="%-5level %message%newline" />
	    </layout>
	</appender>

  <appender name="FileAppender" type="log4net.Appender.FileAppender" >  
     <file value="D:\\1Data\\public\\Temp\\ImsOpcBridge.Log4net_%processid.xml" />
     <layout type="log4net.Layout.PatternLayout">
<!--        <conversionPattern value="%date [%thread] %-5level %logger - %message Parameter=(%property{Parameter}) %newline" /> -->
<!--        <conversionPattern value="%date{ABSOLUTE} [%property{ThreadInfo}] %-5level %logger %newline                        - Context=%property{ModuleName} %message %newline" /> -->
        <conversionPattern value="%date{ABSOLUTE} %logger - %message %newline" /> 
<!--        <conversionPattern value="%date [%thread] %-5level - %message %newline          %%F=%F  %%C=%C %%M=%M %newline" /> -->
	 </layout>
  </appender>

  <appender name="RollingFileInTemp" type="log4net.Appender.RollingFileAppender" >
    <file type="log4net.Util.PatternString" value="%env{TMP}\\xxtest.txt" />
    <appendToFile value="false" />
    <rollingStyle value="Size" />
    <maxSizeRollBackups value="10" />
    <maximumFileSize value="100MB" />
    <staticLogFileName value="false" />
    <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date{ABSOLUTE} %logger - %message %newline" /> 
    </layout>
</appender>

  <appender name="XMLFileAppender" type="log4net.Appender.FileAppender"> 
	 <file type="log4net.Util.PatternString" value="D:\\1Data\\public\\Temp\\ImsOpcBridge.Log4net_%processid.xml" />
     <appendToFile value="true" /> 
     <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
     <layout type="log4net.Layout.XmlLayout" /> 
  </appender>

  <appender name="UdpAppender" type="log4net.Appender.UdpAppender">
    <param  name="RemoteAddress" value="127.0.0.1" />
    <param  name="RemotePort"    value="877" />
    <layout type="log4net.Layout.XmlLayout">
        <param name="Prefix" value="" /> 
    </layout>
  </appender>

<!-- Levels: ALL Verbose Trace Debug Info Notice Warn Error Severe Critical Alert Fatal Emergency OFF -->
	<root> <level value="Error" />
    <!--
      <appender-ref ref="RollingFileInTemp" /> 
      <appender-ref ref="FileAppender" /> 
      <appender-ref ref="BufferingForwardingAppender" /> 
      <appender-ref ref="TcpAppender1" /> 
      <appender-ref ref="XMLFileAppender" /> 
      <appender-ref ref="TcpAppender1" /> 
      <appender-ref ref="BREAK" /> 
    -->
	  <appender-ref ref="UdpAppender" />
      <appender-ref ref="XMLFileAppender" /> 
	</root>

</log4net>
